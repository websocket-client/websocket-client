[mypy]
# Target only the main package, exclude tests and tools
files = websocket/*.py
exclude = websocket/(_wsdump\.py|tests/.*)

# Type checking strictness - start conservative
disallow_incomplete_defs = True
check_untyped_defs = True

# Handle missing imports
ignore_missing_imports = True

# Optional handling
implicit_optional = True
strict_optional = True

# Warning flags
warn_return_any = True
warn_unused_configs = True
warn_unused_ignores = True
warn_redundant_casts = True
warn_unreachable = False

# Error handling
show_error_codes = True
show_column_numbers = True

# Allow redefinition for the proxy pattern in _http.py
allow_redefinition = True

# Exclude problematic _wsdump.py entirely
[mypy-websocket._wsdump]
ignore_errors = True
